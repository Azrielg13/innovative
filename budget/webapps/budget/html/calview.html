<section class="grid_8">
	<div class="block-border"><div class="block-content">
		<h1>Large calendar {{startDate | date}} to {{endDate | date}}</h1>
		
		<div class="block-controls">
			<ul class="controls-buttons">
				<li><a data-ng-click="sharedData.prevMonth()" title="Previous month"><img src="images/icons/fugue/navigation-180.png" width="16" height="16"></a></li>
				<li class="sep"></li>
				<li class="controls-block"><strong>{{sharedData.getMonth() | date:'MMM yyyy'}}</strong></li>
				<li class="sep"></li>
				<li><a data-ng-click="sharedData.nextMonth()" title="Next month"><img src="images/icons/fugue/navigation.png" width="16" height="16"></a></li>
			</ul>
		</div>
		
		<div class="no-margin">
			<table cellspacing="0" class="calendar">
				<thead>
					<tr>
						<th scope="col" class="black-cell"><span class="success"></span></th>
						<th scope="col" class="week-end">Sunday</th>
						<th scope="col">Monday</th>
						<th scope="col">Tuesday</th>
						<th scope="col">Wednesday</th>
						<th scope="col">Thursday</th>
						<th scope="col">Friday</th>
						<th scope="col" class="week-end">Saturday</th>
					</tr>
				</thead>
				<tbody>
					<tr data-ng-repeat="week in weeks">
						<th scope="row">{{week.weekOfYear}}</th>
						<td data-ng-repeat="day in week.days" data-ng-class="{'week-end': day.weekend, 'other-month': day.otherMonth}">
							<a href="#" class="day">{{day.date.getDate()}}</a>
							<ul class="dot-events with-children-tip">
								<li data-ng-repeat="notification in day.notifications"><a href="#">{{notification.title}}</a></li>
							</ul>
							<a data-ng-click="showAddBillDialog(day.date)" class="add-event">Add</a>
							<ul class="events">
								<li data-ng-repeat="bill in day.bills"><a data-ng-click="editBill(bill)"><b>{{bill.amountDue}}</b> {{bill.name}}</a></li>
							</ul>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		
		<ul class="message no-margin">
			<li>{{bills.length}} transactions found</li>
		</ul>
	</div></div>
	<div data-ng-show="addDialogShown" id="modal" style="display: block;">
		<div class="modal-window block-border" style="display: block; left: 388px; top: 250px;">
			<ul class="action-tabs right">
				<li><a data-ng-click="closeAddBillDialog()" title="Close window"><img src="images/icons/fugue/cross-circle.png" width="16" height="16"></a></li>
			</ul>
			<div class="block-content form">
				<h1>Add Bill</h1>
				<div class="modal-content modal-scroll" style="min-width:200px; min-height:40px; height:150px; width:450px; max-width:500px;">
					<fieldset class="white-bg">
						<div class="error-block" data-ng-show="billAddError">
							<p class="message error no-margin">{{billAddError}}</p>
						</div>
						<div class="columns">
							<div class="colx2-left">
								<label>Date</label><input class="datepicker" type="text" data-ng-model="newBill.dueDate"><img src="images/icons/fugue/calendar-month.png" width="16" height="16">
							</div>
							<div class="colx2-right">
								<label>Account</label><select data-ng-model="newBill.accountId" data-ng-options="account.id as account.name for account in accounts"></select>
							</div>
						</div>
						<div class="columns">
							<div class="colx2-left">
								<label>Name</label><input type="text" data-ng-model="newBill.name">
							</div>
							<div class="colx2-right">
								<label>Amount Due</label><input type="text" data-ng-model="newBill.amountDue">
							</div>
						</div>
					</fieldset>
				</div>
				<div class="block-footer align-right">
					<button type="button" data-ng-click="addBill()">Ok</button>&nbsp;<button type="button" data-ng-click="closeAddBillDialog()">Cancel</button>
				</div>
			</div>
			<div class="modal-resize-tl"></div>
			<div class="modal-resize-t"></div>
			<div class="modal-resize-tr"></div>
			<div class="modal-resize-r"></div>
			<div class="modal-resize-br"></div>
			<div class="modal-resize-b"></div>
			<div class="modal-resize-bl"></div>
			<div class="modal-resize-l"></div>
		</div>
	</div>
	<div data-ng-show="editDialogShown" id="modal" style="display: block;">
		<div class="modal-window block-border" style="display: block; left: 388px; top: 250px;">
			<ul class="action-tabs right">
				<li><a data-ng-click="closeAddBillDialog()" title="Close window"><img src="images/icons/fugue/cross-circle.png" width="16" height="16"></a></li>
			</ul>
			<div class="block-content form">
				<h1>Add Bill</h1>
				<div class="modal-content modal-scroll" style="min-width:200px; min-height:40px; height:150px; width:450px; max-width:500px;">
					<fieldset class="white-bg">
						<div class="error-block" data-ng-show="billUpdateError">
							<p class="message error no-margin">{{billUpdateError}}</p>
						</div>
						<div class="columns">
							<div class="colx2-left">
								<label>Date</label><input class="datepicker" type="text" data-ng-model="eBill.dueDate" data-on-change="updateBill('dueDate')"><img src="images/icons/fugue/calendar-month.png" width="16" height="16">
							</div>
							<div class="colx2-right">
								<label>Account</label>
								<select data-ng-model="eBill.accountId" data-ng-change="updateBill('accountId')"
									data-ng-options="account.id as account.name for account in accounts"></select>
							</div>
						</div>
						<div class="columns">
							<div class="colx2-left">
								<label>Name</label><input type="text" data-ng-model="eBill.name" data-on-change="updateBill('name')">
							</div>
							<div class="colx2-right">
								<label>Amount Due</label><input type="text" data-ng-model="eBill.amountDue" data-on-change="updateBill('amountDue')">
							</div>
						</div>
					</fieldset>
				</div>
				<div class="block-footer align-right">
					<button type="button" data-ng-click="closeEditBillDialog()">Close</button>
				</div>
			</div>
		</div>
	</div>
</section>