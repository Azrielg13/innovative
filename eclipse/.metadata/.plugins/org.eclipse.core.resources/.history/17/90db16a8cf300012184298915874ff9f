package com.sce.esp.util.ui;

import java.awt.Color;
import java.awt.GradientPaint;
import java.awt.Graphics;
import java.awt.Graphics2D;
import java.awt.Image;
import java.awt.Paint;

import javax.swing.JPanel;

import com.sce.esp.util.ESPProperties;

public class GradientPanel extends JPanel {
	private String appName;
	private String productVersion;
	private Image splashImage;
	public GradientPanel(String appName, String productVersion,
			Image splashImage) {
		this.appName = appName;
		this.productVersion = productVersion;
		this.splashImage = splashImage;
	}
	private static final Paint MAIN_PAINT = Color.BLUE;
	private static final int MARGIN = 200;
	public void paintComponent(Graphics g) {
		int width = getWidth();
		int height = getHeight();

		// 226, 246, 99
		Color gradientStart = new Color(226, 246, 99);
		Color gradientEnd = new Color(187, 214, 96);// 183, 234, 98);

		Graphics2D g2 = (Graphics2D) g;
		GradientPaint painter = new GradientPaint(0, 0, gradientStart, 0,
				height, gradientEnd);
		Paint oldPainter = g2.getPaint();
		g2.setPaint(painter);
		g2.fill(g2.getClip());

		gradientStart = new Color(183, 234, 98, 200);
		gradientEnd = new Color(220, 255, 149, 255);

		painter = new GradientPaint(0, 0, gradientEnd, 0, height / 2,
				gradientStart);
		g2.setPaint(painter);
		g2.fill(g2.getClip());

		painter = new GradientPaint(0, height / 2, gradientStart, 0, height,
				gradientEnd);
		g2.setPaint(painter);
		g2.fill(g2.getClip());
		drawMain(g2);

		g2.setPaint(oldPainter);
	}

	public void drawMain(Graphics2D g) {
		g.setPaint(MAIN_PAINT);
		g.fillRect(0, 0, getWidth(), getHeight());

		if (splashImage != null)
			g.drawImage(splashImage,
					getWidth() / 2 - splashImage.getWidth(this) / 2, 0, this);

		g.setFont(new java.awt.Font("Times New Roman", java.awt.Font.BOLD, 14));
		drawString(g, appName, 250);
		g.setFont(new java.awt.Font("Times New Roman", java.awt.Font.PLAIN, 10));
		drawString(g, "Version" + " " + productVersion + " Build Release "
				+ ESPProperties.getInstance().getBuildTime(), 265);
		drawString(g, "Copyright 2002-2011. Technology Integration Group", 280);// +15
		drawString(g, "Southern California Edison", 295);// +15
		repaint();
	}

	private void drawString(Graphics2D g, String text, int height) {
		if (text == null)
			return;
		float xPos = MARGIN;
		float yPos = height;
		g.drawString(text, xPos, yPos);
	}

}
