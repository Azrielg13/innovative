/**
 * 
 */
package com.sce.esp.object.model;

import java.io.Serializable;
import java.sql.SQLException;

import javax.persistence.Entity;
import javax.persistence.NamedNativeQueries;
import javax.persistence.NamedNativeQuery;
import javax.persistence.NamedQueries;
import javax.persistence.NamedQuery;
import javax.persistence.Table;

import com.sce.esp.object.dao.ProjRevOffsetDAO;
@Entity
@Table(schema="MDI",name="MDIS65_PROJ_REV_OFFSET")
@NamedQueries({
	@NamedQuery(name = "findByID", query="SELECT o FROM ProjRevOffset o WHERE o.SCE_PROJ_REV_ID=?1 AND o.OFF_SCE_PROJ_REV_ID=?2"),//AUTO-GENERATED
	@NamedQuery(name = "findAll", query="SELECT o FROM ProjRevOffset o"),//AUTO-GENERATED
	@NamedQuery(name = "findAllActive", query="SELECT o FROM ProjRevOffset o WHERE o.DELETED_TS IS NULL"),//AUTO-GENERATED
	@NamedQuery(name = "findBySceProjRev", query="SELECT o FROM ProjRevOffset o WHERE o.SCE_PROJ_REV_ID=?1 AND o.DELETED_TS IS NULL"),//AUTO-GENERATED
	@NamedQuery(name = "findBySceProjRev2", query="SELECT o FROM ProjRevOffset o WHERE o.OFF_SCE_PROJ_REV_ID=?1 AND o.DELETED_TS IS NULL"),//AUTO-GENERATED
})
@NamedNativeQueries({
	@NamedNativeQuery(name = "refresh", query="SELECT o.* FROM MDIS65_PROJ_REV_OFFSET o WHERE o.SCE_PROJ_REV_ID=? AND o.OFF_SCE_PROJ_REV_ID=?"),//AUTO-GENERATED
})
public class ProjRevOffset extends ProjRevOffsetDAO implements Serializable{

	private static final long serialVersionUID = -926319429721610410L;

	/**
	 * @param sceProjRevId
	 * @param woId
	 * @param revDate
	 */
	
	public ProjRevOffset(){
		super(0,0);
	}
	
	public ProjRevOffset(int sceProjRevId, int offSceProjRevId) {
		super(sceProjRevId, offSceProjRevId);
	}
	
	public ProjRevOffset(int sceProjRevId){
		super(sceProjRevId,0);
	}
	
	public ProjRevOffset(ProjRevOffset projRevOffset) {
		super(projRevOffset);
	}
	
	 /**
     * Insert for object that may get inserted after deletion 
     *
     * @return true, if insert
     *
     * @throws SQLException the SQL exception
     */
    public void insert()throws SQLException{
    	ProjRevOffset pro = getInstance(getSceProjRevId(), getOffSceProjRevId());
    	if(pro!=null)
    		pro.deleteDB();
    	super.insert();
    }
}
