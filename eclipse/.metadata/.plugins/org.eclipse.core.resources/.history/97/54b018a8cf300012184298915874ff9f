package com.sce.esp.util.ui;

import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import javax.swing.JDialog;
import javax.swing.JFrame;
import javax.swing.JRootPane;
import javax.swing.JWindow;
import javax.swing.KeyStroke;

public class WindowUtils
{
  public static void addEscapeListener(final JWindow dialog, final IEscapeCallback callback)
  {
    ActionListener escListener = new ActionListener()
    {
      public void actionPerformed(ActionEvent e)
      {
    	  callback.escaped(dialog);
      }
    };
    dialog.getRootPane().registerKeyboardAction(escListener, 
      KeyStroke.getKeyStroke(27, 0), 
      2);
  }

  public static void addEscapeListener(final JDialog dialog, final IEscapeCallback callback)
  {
    ActionListener escListener = new ActionListener()
    {
      public void actionPerformed(ActionEvent e)
      {
    	  callback.escaped(dialog);
      }
    };
    dialog.getRootPane().registerKeyboardAction(escListener, 
      KeyStroke.getKeyStroke(27, 0), 
      2);
  }

  public static void addEscapeListener(final JFrame dialog, final IEscapeCallback callback)
  {
    ActionListener escListener = new ActionListener()
    {
      public void actionPerformed(ActionEvent e)
      {
        callback.escaped(dialog);
      }
    };
    dialog.getRootPane().registerKeyboardAction(escListener, 
      KeyStroke.getKeyStroke(27, 0), 
      2);
  }

  public static void makeWindowLeopardStyle(JRootPane rootPane)
  {
    if (rootPane.isValid()) {
      throw new IllegalArgumentException("This method only works if thegiven JRootPane has not yet been realized.");
    }

    rootPane.putClientProperty("apple.awt.brushMetalLook", Boolean.TRUE);
  }
}