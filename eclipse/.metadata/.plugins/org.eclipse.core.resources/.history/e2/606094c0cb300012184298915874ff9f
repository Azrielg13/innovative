package com.sce.esp.component;

import javax.swing.text.AttributeSet;
import javax.swing.text.BadLocationException;
import javax.swing.text.PlainDocument;
/** 
 * This class creates a document class that will only allow number up to a certain length 
 * 
 * 
 */  
public class NumericFloatDocument extends PlainDocument {  
    /**
	 * 
	 */
	private static final long serialVersionUID = 1L;
	public int constraint;  
    /** 
    * This constructor takes the constraint of the length of the data. 
    * 
    * @param int c constraint of the length of data. 
    */  
    public NumericFloatDocument(int c) {  
        super();  
        constraint = c;  
    }  
    
    public void insertString(int offset, String str, AttributeSet a) throws BadLocationException {  
        char[] insertChars = str.toCharArray();  
        boolean valid = true;  
        boolean fit = true;  
        
        if(insertChars.length + getLength() <= constraint) {  
            for(int i = 0; i < insertChars.length; i++) { 
                if(!(Character.isDigit(insertChars[i]) || insertChars[i] == (".").charAt(0) ) )  {  
                    valid = false;  
                    break;  
                }  
            }  
        } else {  
            fit = false;  
        }  
        if (fit && valid){  
            super.insertString(offset,str,a);  
        }  
    }  
}   